{"ast":null,"code":"import _slicedToArray from\"/home/alice/Desktop/JavaProjects/studentList/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Drawer,Input,Col,Select,Form,Row,Button}from'antd';import{addNewStudent}from\"./client.js\";import{useState}from'react';import React from'react';import{LoadingOutlined}from'@ant-design/icons';import{Spin}from'antd';import{successNotification,errorNotification}from\"./Notification\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=Select.Option;var antIcon=/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:24},spin:true});function StudentDrawerForm(_ref){var showDrawer=_ref.showDrawer,setShowDrawer=_ref.setShowDrawer,fetchStudents=_ref.fetchStudents;var onCLose=function onCLose(){return setShowDrawer(false);};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),submitting=_useState2[0],setSubmitting=_useState2[1];var onFinish=function onFinish(values){//alert(JSON.stringify(values, null, 2));\nsetSubmitting(true);console.log(JSON.stringify(values,null,2));addNewStudent(values).then(function(){console.log(\"Student added\");onCLose();successNotification(\"Student successfully added\",\"\".concat(values.name,\" is added to the system\"));fetchStudents();}).catch(function(err){console.log(err);err.response.json().then(function(res){return errorNotification(\"There was an issue\",\"\".concat(res.message,\" [\").concat(res.status,\"] [\").concat(res.error,\"]\"),\"bottomLeft\");});}).finally(function(){setSubmitting(false);});};var onFinishFailed=function onFinishFailed(errorInfo){alert(JSON.stringify(errorInfo,null,2));};return/*#__PURE__*/_jsx(Drawer,{title:\"Create new student\",width:720,onClose:onCLose,visible:showDrawer,bodyStyle:{paddingBottom:80},footer:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsx(Button,{onClick:onCLose,style:{marginRight:8},children:\"Cancel\"})}),children:/*#__PURE__*/_jsxs(Form,{layout:\"vertical\",onFinishFailed:onFinishFailed,onFinish:onFinish,hideRequiredMark:true,children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"name\",label:\"Name\",rules:[{required:true,message:'Please enter student name'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"Please enter student name\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"email\",label:\"Email\",rules:[{required:true,message:'Please enter student email'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"Please enter student email\"})})})]}),/*#__PURE__*/_jsx(Row,{gutter:16,children:/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"gender\",label:\"gender\",rules:[{required:true,message:'Please select a gender'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Please select a gender\",children:[/*#__PURE__*/_jsx(Option,{value:\"MALE\",children:\"MALE\"}),/*#__PURE__*/_jsx(Option,{value:\"FEMALE\",children:\"FEMALE\"}),/*#__PURE__*/_jsx(Option,{value:\"OTHER\",children:\"OTHER\"})]})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Submit\"})})})}),/*#__PURE__*/_jsx(Row,{children:submitting&&/*#__PURE__*/_jsx(Spin,{indicator:antIcon})})]})});}export default StudentDrawerForm;","map":{"version":3,"names":["Drawer","Input","Col","Select","Form","Row","Button","addNewStudent","useState","React","LoadingOutlined","Spin","successNotification","errorNotification","jsx","_jsx","jsxs","_jsxs","Option","antIcon","style","fontSize","spin","StudentDrawerForm","_ref","showDrawer","setShowDrawer","fetchStudents","onCLose","_useState","_useState2","_slicedToArray","submitting","setSubmitting","onFinish","values","console","log","JSON","stringify","then","concat","name","catch","err","response","json","res","message","status","error","finally","onFinishFailed","errorInfo","alert","title","width","onClose","visible","bodyStyle","paddingBottom","footer","textAlign","children","onClick","marginRight","layout","hideRequiredMark","gutter","span","Item","label","rules","required","placeholder","value","type","htmlType","indicator"],"sources":["/home/alice/Desktop/JavaProjects/studentList/src/frontend/src/StudentDrawerForm.js"],"sourcesContent":["import {Drawer, Input, Col, Select, Form, Row, Button} from 'antd';\nimport {addNewStudent } from \"./client.js\";\nimport {useState} from 'react';\nimport React from 'react';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { Spin } from 'antd';\nimport {successNotification, errorNotification} from \"./Notification\";\n\nconst {Option} = Select;\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nfunction StudentDrawerForm({showDrawer, setShowDrawer,fetchStudents}) {\n    const onCLose = () => setShowDrawer(false);\n    const [submitting, setSubmitting] = useState(false);\n\n    const onFinish = values => {\n        //alert(JSON.stringify(values, null, 2));\n        setSubmitting(true);\n        console.log(JSON.stringify(values, null, 2));\n        addNewStudent(values).\n        \tthen(()=> {\n\t        \tconsole.log(\"Student added\");\n\t        \tonCLose();\n\t        \tsuccessNotification(\"Student successfully added\",\n\t        \t\t`${values.name} is added to the system`);\n\t        \tfetchStudents();\n\n\t        }\n\t\t    ).catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t\terr.response.json().then(res=>\n\t\t\t\terrorNotification(\n\t\t\t\t\t\"There was an issue\",\n\t\t\t\t\t`${res.message} [${res.status}] [${res.error}]`,\n\t\t\t\t\t\"bottomLeft\"\n\t\t\t\t)\n\t\t\t\t);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t})\n\t\t    .finally(()=> {\n\t\t    setSubmitting(false);\n\t\t    }\n\t\t    )\n    };\n\n    const onFinishFailed = errorInfo => {\n        alert(JSON.stringify(errorInfo, null, 2));\n    };\n\n    return <Drawer\n        title=\"Create new student\"\n        width={720}\n        onClose={onCLose}\n        visible={showDrawer}\n        bodyStyle={{paddingBottom: 80}}\n        footer={\n            <div\n                style={{\n                    textAlign: 'right',\n                }}\n            >\n                <Button onClick={onCLose} style={{marginRight: 8}}>\n                    Cancel\n                </Button>\n            </div>\n        }\n    >\n        <Form layout=\"vertical\"\n              onFinishFailed={onFinishFailed}\n              onFinish={onFinish}\n              hideRequiredMark>\n            <Row gutter={16}>\n                <Col span={12}>\n                    <Form.Item\n                        name=\"name\"\n                        label=\"Name\"\n                        rules={[{required: true, message: 'Please enter student name'}]}\n                    >\n                        <Input placeholder=\"Please enter student name\"/>\n                    </Form.Item>\n                </Col>\n                <Col span={12}>\n                    <Form.Item\n                        name=\"email\"\n                        label=\"Email\"\n                        rules={[{required: true, message: 'Please enter student email'}]}\n                    >\n                        <Input placeholder=\"Please enter student email\"/>\n                    </Form.Item>\n                </Col>\n            </Row>\n            <Row gutter={16}>\n                <Col span={12}>\n                    <Form.Item\n                        name=\"gender\"\n                        label=\"gender\"\n                        rules={[{required: true, message: 'Please select a gender'}]}\n                    >\n                        <Select placeholder=\"Please select a gender\">\n                            <Option value=\"MALE\">MALE</Option>\n                            <Option value=\"FEMALE\">FEMALE</Option>\n                            <Option value=\"OTHER\">OTHER</Option>\n                        </Select>\n                    </Form.Item>\n                </Col>\n            </Row>\n            <Row>\n                <Col span={12}>\n                    <Form.Item >\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            Submit\n                        </Button>\n                    </Form.Item>\n                </Col>\n            </Row>\n            <Row>\n\t\t\t  {submitting && <Spin indicator={antIcon} />}\n\t\t\t</Row>\n        </Form>\n    </Drawer>\n}\n\nexport default StudentDrawerForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}